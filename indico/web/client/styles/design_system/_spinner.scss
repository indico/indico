// This file is part of Indico.
// Copyright (C) 2002 - 2026 CERN
//
// Indico is free software; you can redistribute it and/or
// modify it under the terms of the MIT License; see the
// LICENSE file for more details.

@use './variables';

@keyframes spinner-rotate {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

%spinner-base {
  --spinner-size: 1em;
  --spinner-border-width: 0.1em;
  --spinner-track-color: var(--surface-default);
  --spinner-indicator-color: var(--accent-color);
  --spinner-animation-duration: 0.6s;

  position: relative;
  display: inline-block;
  width: var(--spinner-size);
  height: var(--spinner-size);

  &::before,
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: var(--spinner-border-width) solid transparent;
  }

  &::before {
    border-color: var(--spinner-track-color);
  }

  &::after {
    border-top-color: var(--spinner-indicator-color);
    border-right-color: var(--spinner-indicator-color);
    animation: spinner-rotate var(--spinner-animation-duration) linear infinite;
  }
}

%spinner {
  @extend %spinner-base;
}

%spinner-small {
  @extend %spinner-base;
  --spinner-size: 0.875em;
  --spinner-border-width: 0.08em;
}

%spinner-large {
  @extend %spinner-base;
  --spinner-size: 2em;
  --spinner-border-width: 0.15em;
}

%spinner-inline {
  @extend %spinner-base;
  vertical-align: middle;
  margin: 0 var(--content-gap-within-inline);
}

%spinner-inverse {
  @extend %spinner-base;
  --spinner-track-color: var(--surface-inverse-color);
  --spinner-indicator-color: var(--text-inverse-color);
}

%spinner-fast {
  @extend %spinner-base;
  --spinner-animation-duration: 0.4s;
}

%spinner-slow {
  @extend %spinner-base;
  --spinner-animation-duration: 1s;
}
