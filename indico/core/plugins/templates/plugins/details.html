{% from 'forms/form_widget.html' import form_header, form_row, form_footer  %}

<div class="plugin-header">
    <h1>{{ plugin.title }}</h1>
    <h2>{% if not form %}{% trans %}Plugin Details{% endtrans %}{% else %}{% trans %}Plugin Settings{% endtrans %}{% endif %}</h2>
</div>

<p class="plugin-description">{{ plugin.description }}</p>

{% if not form %}
    {% trans %}This plugin does not have any settings.{% endtrans %}
{% else %}
    {{ form_header() }}
    {% for field in form.visible_fields %}
        {{ form_row(field, plugin.settings_form_field_opts.get(field.short_name, {})) }}
    {% endfor %}
    {% call form_footer() %}
        <input class="i-button big highlight" type="submit" value="{% trans %}Save{% endtrans %}">
        <a href="{{ url_for('.index') }}" class="i-button big">{% trans %}Cancel{% endtrans %}</a>
    {% endcall %}
{% endif %}

{{ plugin_hook('plugin-details', plugin=plugin) }}
