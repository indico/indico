{% extends 'layout/base.html' %}
{% from 'forms/form_widget.html' import form_header, form_rows, form_footer  %}
{% from 'message_box.html' import message_box %}

{% block title %}{% trans %}Payment settings{% endtrans %}{% endblock %}

{% block subtitle %}{{ plugin.title }}{% endblock %}

{% block content %}
    {% if not can_modify %}
        {% call message_box('warning', fixed_width=true) %}
            {% trans %}You cannot modify this payment method.{% endtrans %}<br>
            {{ template_hook('event-manage-payment-plugin-cannot-modify', plugin=plugin, event=event) }}
        {% endcall %}
    {% endif %}
    {% for type, text in messages %}
        {{ message_box(type, text, fixed_width=true) }}
    {% endfor %}

    {{ form_header() }}
    {{ form_rows(form, widget_attrs=widget_attrs) }}
    {% call form_footer() %}
        {% if can_modify and not invalid_currency %}
            <input class="i-button big highlight" type="submit" value="{% trans %}Save{% endtrans %}">
            <a href="{{ url_for('.event_settings', event) }}" class="i-button big" data-button-back>{% trans %}Cancel{% endtrans %}</a>
        {% else %}
            <a href="{{ url_for('.event_settings', event) }}" class="i-button big" data-button-back>{% trans %}Back{% endtrans %}</a>
        {% endif %}
    {% endcall %}
{% endblock %}
