{% extends 'admin/base.html' %}
{% from 'forms/form_widget.html' import form_header, form_rows, form_footer  %}

{% block title %}{% trans %}Payment{% endtrans %}{% endblock %}

{% block content %}
    {% if not plugins %}
        <div class="warning-message-box fixed-width">
            <div class="message-text">
                {% trans -%}
                    There are no payment plugins installed, so the payment module cannot be enabled for any event.
                    To install a payment plugin, install the plugin's Python package and enable it in <code>indico.conf</code>.
                {%- endtrans %}
            </div>
        </div>
    {% endif %}

    {{ form_header() }}
    {{ form_rows(form) }}
    {% call form_footer() %}
        <input class="i-button big highlight" type="submit" value="{% trans %}Save{% endtrans %}">
    {% endcall %}

    {% if plugins %}
        <p>{% trans %}The following payment plugins are available:{% endtrans %}</p>
        <ul>
            {% for plugin in plugins %}
                <li>
                    <a href="{{ url_for('plugins.details', plugin=plugin.name) }}">{{ plugin.title }}</a>
                </li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}
